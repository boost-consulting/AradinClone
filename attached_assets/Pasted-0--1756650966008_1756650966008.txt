0. 目的と前提

目的：

「どの商品が／どこに／いくつ／どんな状態か」を一目で把握できる。

店舗では販売・顧客返品・出荷指示、倉庫では仕入受入・棚入れ・出荷・返品検品を滞りなく実施できる。

対象企業像：自社企画アパレル（ECなし）／倉庫1（棚A/B/C）＋直営店舗6。

商品構成：12型 ×（色2 × サイズ3）＝ 72SKU。

入力方針：すべて手入力（バーコード連携なし）。

在庫状態（4つ、用語は日本語で固定）：

通常 … 販売・出荷に使える数量

確保 … 出荷指示に基づき倉庫で取り置き中の数量

検品中 … 受入直後・店舗→倉庫返品直後の確認待ち数量

不良 … 破損・汚れなど販売不可の数量

在庫の管理粒度：SKU × 場所（倉庫：棚A/B/C／店舗1〜6） × 状態別数量。

補充基準（SKU×場所）：下限在庫／基準在庫／標準補充量。

履歴の扱い：確定した事実のみを追記専用で記録（取消があれば取消行を別途追記）。

反映・通知の考え方：各操作の保存後は関連画面に移動し、その時点で最新の情報を読み直す。必要に応じて特定の表示要素のみを一定間隔で最新表示に置き換える方法を採用してよい。

1. 共通UI（全画面で固定）
1-1. 固定ヘッダー

左：ロゴ／システム名。

中央：主要ナビゲーションタブ
ダッシュボード｜在庫一覧｜入出庫｜販売管理｜出荷指示｜返品管理｜マスタ管理

右：現在のユーザー種別（倉庫／店舗／管理の表示）と、店舗ロール時の店舗選択ドロップダウン。

右肩の表示要素：SKU簡易検索、ヘルプ（用語集・操作ガイド）、未処理の出荷指示件数バッジ。

1-2. 各ページの基本レイアウト

ページタイトル行：ページ名＋必要に応じて補足（例：選択中の店舗名、今日の日付）。

本文は2カラム構成：

主作業エリア（左・広め） … リストやフォームなど、当該ページの主目的を実行する領域。

サイド情報エリア（右・やや狭め） … **直近の履歴（最新20件）**を常時表示。

操作の基本ルール：

保存後は関連ページに移動し、その時点で最新の情報に置き換える。

成功・失敗・警告は画面右上に短いトースト通知を表示（例：「出荷を確定しました：店舗3に20点」）。

入力エラーは、該当項目の直下に理由を示し、ページ上部にも要約バーを表示。

数値表記：数量は整数、価格は税込みの円表示。桁区切りを用いる。

2. データ概念（UIに関係する要点）

場所：倉庫（棚A／棚B／棚C）と店舗1〜6。

在庫残高：SKU×場所×状態ごとの数量（通常／確保／検品中／不良）と合計。

補充基準（SKU×場所）：

下限在庫 … この数を下回ると少数アラートを出す。

基準在庫 … 補充後に目指す水準。

標準補充量 … 出荷指示作成時の初期数量として提案する値。

履歴：日時、操作種別（販売・顧客返品・出荷指示作成・確保・出荷確定・受入・棚入れ・店舗→倉庫返品送付・返品受入・返品検品 など）、SKU、数量の増減、元場所→先場所、実行ユーザー、参照ID、販売金額（販売時）、備考。編集は行わず、必ず追記で残す。

3. 画面仕様
3-1. ダッシュボード

画面上の表示内容とレイアウト

上段の指標カード：

未処理の出荷指示（件数と、期限が近い上位3件のリンクリスト）

本日の仕入受入（予定数／処理済数）

在庫少数アラート（下限割れSKU件数と上位5件のリンク）

直近7日の販売点数（店舗合計）

下段：

左に未処理の出荷指示一覧（店舗／SKU／数量／希望日／作成日時）。

右に少数アラート詳細（SKU／場所／現在庫（通常）／下限／基準）。

右サイド：直近の履歴（20件）。

画面上で行える操作と導線

未処理の出荷指示の行をクリックすると、入出庫の出荷処理セクションに移動。

少数アラートの行をクリックすると、出荷指示で当該SKUを初期選択し、基準在庫との差分を数量欄に提案。

表示の更新は、ページ再表示で最新値に置き換える。必要に応じて、このページの一部要素だけを一定間隔で最新表示に置き換える設定を用いてよい。

3-2. 在庫一覧

画面上の表示内容とレイアウト

上部フィルタ：SKU、色、サイズ、場所、状態、「少数のみを表示」トグル。

主表の固定カラム：

SKU｜場所｜通常｜確保｜検品中｜不良｜合計｜最終更新｜明細

右サイド：直近の履歴（20件）。

画面上で行える操作と導線

「明細」を押すと、当該SKU×場所の履歴をモーダルで表示（操作種別・数量・日時・担当・元→先の場所など）。

数量の直接編集は行わない。数量の変更は必ず、入出庫・販売管理・返品管理・出荷指示などの業務画面から行う。

3-3. 入出庫

画面上の表示内容とレイアウト

上部にタブ：出荷処理｜仕入受入・棚入れ｜返品受入・検品。

ページ上段に未処理の出荷指示一覧（期限順）。

タブごとのフォームはページ下段に配置。

右サイドに直近の入出庫・返品検品の履歴（20件）。

画面上で行える操作と導線

出荷処理：

未処理の出荷指示から行を選ぶと、右側に詳細（店舗／SKU／数量／希望日）。

「在庫を確保する」… 倉庫の通常→確保に数量を振り替える（必要に応じて使用）。

「出荷を確定する」… 倉庫の確保または通常を減算し、店舗の通常を加算。指示は完了に更新。

仕入受入・棚入れ：

入力項目：仕入先、日付、SKU、受入数量、良品・不良の内訳、棚（A/B/C）。

「受入を登録」→「棚入れを確定」… 倉庫の検品中に受入数量を加算し、確定時に良品は通常へ、不良は不良へ振替。

返品受入・検品：

店舗からの返品が届いたら「返品受入」を登録し、倉庫の検品中に加算。

「返品を検品して確定」… 再販可なら通常へ、不可なら不良へ振替。

保存後のふるまい

保存が完了すると当ページに戻り、未処理の出荷指示・在庫サマリ・履歴が最新に置き換わる。ダッシュボードの件数等も、次回表示時点で最新になる。

3-4. 販売管理

画面上の表示内容とレイアウト

上部に店舗選択（店舗ロール時は固定表示でもよい）。

左に当該店舗の在庫サマリ（SKU／通常／不良、検索付き）。

下に販売登録フォーム（日付、SKU、数量、値引（額または%）、計算結果）。

右サイドに直近の販売・顧客返品の履歴（20件）。

画面上で行える操作と導線

「販売を登録」… 店舗の通常を減算し、売上金額（価格×数量−値引）を履歴に記録。登録後は当ページに戻り、在庫サマリと履歴が最新に置き換わる。

3-5. 出荷指示

画面上の表示内容とレイアウト

左に**少数アラート（自店舗）**の一覧（SKU／現在庫（通常）／下限／基準／推奨数量＝基準−現在庫）。

中央に自店舗の未処理の出荷指示の一覧（受付中）。

右に完了済みの出荷指示の履歴（20件）。

下に出荷指示フォーム（SKU、数量〔初期値は推奨数量〕、希望納期、メモ）。

画面上で行える操作と導線

「出荷指示を作成」… 指示（受付中）を1件追加。在庫はこの時点では変化しない。作成後は当ページに戻り、未処理リストとダッシュボードの指標が最新に置き換わる。

3-6. 返品管理

画面上の表示内容とレイアウト

上部タブ：顧客返品｜倉庫返品送付。

右サイドに直近の返品関連履歴（20件）。

画面上で行える操作と導線

顧客返品：

入力項目：日付、SKU、数量、判定（再販可／不良）。

「顧客返品を登録」… 再販可の場合は店舗の通常に加算、不良の場合は店舗の不良に加算。登録後は当ページに戻り、在庫と履歴が最新に置き換わる。

倉庫返品送付：

入力項目：SKU、数量、メモ。

「倉庫へ返品を送付」… 店舗の通常を減算し、倉庫側の返品受入・検品にタスクとして現れる。登録後は当ページに戻り、履歴が更新される。

3-7. マスタ管理

画面上の表示内容とレイアウト

上部タブ：商品｜場所｜補充基準。

各タブは、一覧（検索・並べ替え）と編集フォーム（右側）で構成する。

画面上で行える操作と導線

商品：SKU、型名、色、サイズ、カテゴリ、店頭価格、原価（必要に応じて）を登録・更新・削除。

場所：倉庫（棚A/B/C）と店舗1〜6の名称・表示順の編集。

補充基準（SKU×場所）：下限在庫／基準在庫／標準補充量を登録・更新。場所に未設定の場合は、SKUのデフォルト値を用いる仕様とする。

保存後は当ページに戻り、ダッシュボードの少数アラートや出荷指示の推奨数量に即時反映される。

4. 画面間の更新・通知のふるまい

どの操作でも、保存後は関連ページに移動し、その時点で最新の情報を読み直す。これにより、出荷指示を作成した直後にダッシュボードや入出庫の未処理一覧へ反映される。

必要があれば、未処理の出荷指示件数や少数アラート、直近販売など、変化が頻繁な一部の表示要素だけを一定間隔で最新表示に置き換える（軽い自動更新）。

専用の「通知」データは不要。常に現在の業務データを集計して表示することで通知に相当する体験を実現する。

5. 入力ルール（バリデーション）

数量：0以上の整数。減算系（販売・出荷など）は、該当の在庫残を下回らないことを確認する。

値引：額か割合のどちらか一方のみ入力。両方入力された場合は確認を促す。

日付：過去・未来ともに入力可。空欄は当日として扱う。

エラー表示：該当項目直下に具体的な理由、ページ上部に要約。

6. 用語・ラベル・説明文の統一

ボタン文言：

出荷指示：「出荷指示を作成」／出荷：「出荷を確定する」／確保：「在庫を確保する」

受入：「受入を登録」／棚入れ：「棚入れを確定」／販売：「販売を登録」

顧客返品：「顧客返品を登録」／倉庫返品送付：「倉庫へ返品を送付」

ツールチップ・補足説明の例：

確保 … 「出荷予定分として倉庫在庫を取り置きします（通常→確保に移動）。」

検品中 … 「受入直後や返品到着直後の確認待ちの数量です。」

少数アラート … 「通常在庫が下限在庫を下回っています。」

推奨数量 … 「基準在庫から現在庫を差し引いて自動算出した数量です。」

7. 受け入れ確認のためのシナリオ

店舗で出荷指示を作成すると、ダッシュボードと入出庫の未処理一覧に現れる。

倉庫で出荷を確定すると、倉庫の在庫が減り、店舗の在庫が増え、出荷指示は完了となる。

倉庫で仕入受入→棚入れを行うと、倉庫の検品中が増え、確定で通常（または不良）に反映される。

店舗で販売を登録すると、店舗の通常が減り、販売金額を含む履歴が作成される。

店舗で顧客返品を登録すると、再販可なら店舗の通常が増え、不良なら店舗の不良が増える。

店舗で倉庫返品送付を登録すると、店舗の通常が減り、入出庫の「返品受入・検品」に到着分が表示される。

以上の仕様に従い、固定ヘッダーと2カラム構成を全画面で統一し、保存→移動→最新表示の流れを徹底してください。これにより、リアルタイム通信を使わずとも、操作結果が確実かつ直感的に全体へ反映されるUI体験を実現できます。